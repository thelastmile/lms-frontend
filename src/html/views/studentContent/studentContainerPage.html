<div ng-controller="StudentContentController as SCC" class="row">
   <!-- START dashboard content-->

   <div class="col-lg-12 fw-boxed">

      <div ng-show="content==0">
         <div compile="homeContent.value">
            <!-- PULLED FROM DB -->
         </div>
      </div>

      <div ng-show="currentContentType==0">
      <div compile="homeContent.value">
            <!-- PULLED FROM DB -->
      </div>
      </div>

      <div ng-show="currentContentType==1">
         <h1>Lessons</h1>
         <ul>
            <h3 ng-repeat="content in content_by_type">
               <a href="{{ url }}{{ content.index_file }}">{{ content.name }}</a>
            </h3>
            <p href="{{ url }}{{ content.index_file }}">{{ content.description }}</p>
         </ul>
      </div>

      <div ng-show="currentContentType==3">

         <h2 ng-if="SCC.current_video.name">{{SCC.current_video.name}}</h2>
         <h2 ng-if="!SCC.current_video.name">Please Select a Video</h2>
         <div class="row">
            <div class="col-sm-8 col-xs-12">
               <div class="videogular-container ">
                  <videogular vg-player-ready="SCC.onPlayerReady($API)" vg-theme="SCC.config.theme.url" vg-auto-play="true">
                     <vg-media vg-src="SCC.config.sources"
                             vg-tracks="SCC.config.tracks">
                     </vg-media>
             
                     <vg-controls>
                        <vg-play-pause-button></vg-play-pause-button>
                        <vg-time-display>{{ currentTime | date:'mm:ss' }}</vg-time-display>
                        <vg-scrub-bar>
                           <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
                        </vg-scrub-bar>
                        <vg-time-display>{{ timeLeft | date:'mm:ss' }}</vg-time-display>
                        <vg-volume>
                           <vg-mute-button></vg-mute-button>
                           <vg-volume-bar></vg-volume-bar>
                        </vg-volume>
                        <vg-fullscreen-button></vg-fullscreen-button>
                     </vg-controls>
             
                     <vg-overlay-play></vg-overlay-play>
                     <vg-buffering></vg-buffering>
                     <vg-poster vg-url='SCC.config.plugins.poster'></vg-poster>
                  </videogular>
               </div>
            </div>
            <div class="col-sm-4 hidden-xs" style="height:82vh;
    overflow:scroll;">
               <div class="" ng-repeat="content in content_by_type">
                  <div class="col-sm-12" style="word-break: break-all;">
                   <a href="" class="thumbnail" ng-click="SCC.setVideo(content)">
                     <!-- <img src="{{ content.thumbnail }}" alt="{{ content.name }}"> -->
                     <img ng-if="content.thumbnail" name="{{ content.name }}" src="{{ content.thumbnail }}" data-holder- width="160" height="90"> <h5 style="margin: 5px;">{{content.name}}</h5>
                   </a>
                  </div>
               </div>
            </div>
         </div>
         <div class="row">
            <div class="col-xs-12 visible-xs"><br>
               <div class="col-xs-3" ng-repeat="content in content_by_type">
                <a href="" class="thumbnail" ng-click="SCC.setVideo(content.file_url)">
                  <!-- <img src="{{ content.thumbnail }}" alt="{{ content.name }}"> -->
                  <img data-src="holder.js/100%x180" alt="{{ content.name }}" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE3MSAxODAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjwhLS0KU291cmNlIFVSTDogaG9sZGVyLmpzLzEwMCV4MTgwCkNyZWF0ZWQgd2l0aCBIb2xkZXIuanMgMi42LjAuCkxlYXJuIG1vcmUgYXQgaHR0cDovL2hvbGRlcmpzLmNvbQooYykgMjAxMi0yMDE1IEl2YW4gTWFsb3BpbnNreSAtIGh0dHA6Ly9pbXNreS5jbwotLT48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWyNob2xkZXJfMTUxNzg3ZmZjZDQgdGV4dCB7IGZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMHB0IH0gXV0+PC9zdHlsZT48L2RlZnM+PGcgaWQ9ImhvbGRlcl8xNTE3ODdmZmNkNCI+PHJlY3Qgd2lkdGg9IjE3MSIgaGVpZ2h0PSIxODAiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSI1OS41NTQ2ODc1IiB5PSI5NC41Ij4xNzF4MTgwPC90ZXh0PjwvZz48L2c+PC9zdmc+" data-holder-rendered="true">
                </a>
               </div>
            </div>
         </div>
      </div>

      <div ng-show="currentContentType==5">
         <h1>Resources</h1>

         <div ng-repeat="content in content_by_type">
            <div class="announcements">
               <h2>{{ content.name }}</h2>
               <p>{{ content.description }}&nbsp;&nbsp;

               <span ng-if="!content.index_file">
                  <a class="btn btn-primary btn-xs" href="{{ content.file }}">Download/View File</a>
               </span>
               <span ng-if="content.index_file">
                  <a class="btn btn-primary btn-xs" href="{{ content.index_file }}">View</a>
               </span>
               </p>
               <hr>
            </div>
         </div>
      </div>

      <div ng-show="currentContentType==9" ng-controller="CodeController as CODE">
         <div class="row">
            <div class="col-sm-8">
               <div class="code-time">
                  <h2>Code Editor</h2>
                  <pre id="editor_code" ng-model="CODE.editor_code" name="editor_code">
                  </pre>
                  
                  <a ng-click="CODE.run($event)" class="btn btn-info btn-sm pull-right">Run Code <i class="fa fa-play-circle"></i></a>

<!--                   <div class="btn-switch mb mr btn-switch-success pull-right">
                     <input type="checkbox" id="input-btn-switch-success">
                     <label for="input-btn-switch-success" class="btn btn-sm btn-success">
                        <em class="fa fa-check"></em>Save Code</label>
                  </div> &nbsp; -->

                 <div uib-dropdown="dropdown" class="btn-group mb mr dropdown pull-right" style="">
                     <button type="button" class="btn btn-default btn-sm" ripple="" ng-click="CODE.enterfilename=false;CODE.save(CODE.current_code);CODE.saveclass='btn btn-success btn-sm';" ng-class="CODE.saveclass">Save Code</button>
                     <button type="button" uib-dropdown-toggle="" ripple="" class="btn dropdown-toggle btn-default btn-sm" ng-class="CODE.saveclass" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                        <span class="sr-only">primary</span>
                     <span class="ripple"><span class="angular-ripple" style="width: 35px; height: 35px; left: -2.89062px; top: -2.5px;"></span></span></button>
                     <ul role="menu" class="dropdown-menu">
                        <li><a href="" ng-click="CODE.saveclass='btn btn-default btn-sm';CODE.enterfilename=true">Save New</a>
                        </li>
                        <li class="divider"></li>
                        <li ng-repeat="code in code_list">
                           <a href="" ng-click="CODE.current_code=code;CODE.open()">{{code.name}}</a>
                        </li>
                     </ul>
                  </div>
                  <input ng-model="CODE.current_code.name" id="input-id-1" type="text" class="form-control pull-right input-sm" style="width: 25%; margin-right: 1em;" placeholder="Create New Name">&nbsp;
                  <h2>Tests</h2>
                  <pre id="editor_tests">function some_test() {
                        return true; 
                     }
                  </pre>
               </div>
            </div>
            <div class="col-sm-4">
               <h2>Console Output</h2>
               <textarea id="code-output"></textarea>
            </div>
         </div>
         <script>
            var editor_code = ace.edit("editor_code");
            editor_code.setTheme("ace/theme/twilight");
            editor_code.session.setMode("ace/mode/javascript");
            editor_code.renderer.setScrollMargin(10, 10);
            editor_code.setOptions({
                // "scrollPastEnd": 0.8,
                autoScrollEditorIntoView: true
            });

             var editor_tests = ace.edit("editor_tests");
             editor_tests.setTheme("ace/theme/twilight");
             editor_tests.session.setMode("ace/mode/javascript");
         </script>

      </div>
   </div>


   <!-- END dashboard sidebar-->
   
</div>