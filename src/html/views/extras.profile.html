<div ng-controller="DashboardController as dashboard">
   <div style="background:url(app/img/profile.jpg) center center; background-size:cover;" class="unwrap">
      <div ng-if="!$root.selectedStudent" class="container container-lg p-lg">
         <div class="media mt-lg">
            <div class="media-left media-middle">
               <a href="{{url}}/media/{{user.profile_image}}" data-gallery="">
                  <img src="{{url}}/media/{{user.profile_image}}" class="img-circle profile-image-circle" />
               </a>
            </div>
            <div class="media-body text-white">
               <div class="col-sm-6">
                  <div ripple="" class="panel panel-default">
                     <div ng-class="'bg-' + app.theme.name" class="panel-body bg-primary">
                     <h2 class="mv-lg media-heading">{{user.first_name}} {{user.last_name}}</h2>
                     </div>
                  </div>
                  <div ripple="" class="panel panel-default">
                     <div ng-class="'bg-' + app.theme.name" class="panel-body bg-primary">
                        <div class="text-left text-md">ID# {{user.inmate_id}}</div>
                     </div>
                  </div>
               </div>
               <div class="col-sm-6">
                  <div ripple="" class="panel panel-default">
                     <div ng-class="'bg-' + app.theme.name" class="panel-body bg-primary">
                        <div class="text-left text-md" ng-if="isSuperAdmin()"style="color:red;"><b>SUPER ADMIN</b></div>
                        <div class="text-left text-md" ng-if="isAdmin()">Facilitator</div>
                        <div class="text-left text-md" ng-if="isStudent()">Student</div>
                     </div>
                  </div>
               </div>
               <div class="col-sm-6" ng-if="isStudent()">
                  <div ripple="" class="panel panel-default">
                     <div ng-class="'bg-' + app.theme.name" class="panel-body bg-primary">
                        <div class="text-left text-md">{{user.course}}</div>
                     </div>
                     <span class="ripple"></span>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <div ng-if="$root.selectedStudent" class="container container-lg p-lg">
         <div class="media mt-lg">
            <div class="media-left media-middle">
               <a href="{{url}}/media/{{$root.selectedStudent.profile_image}}" data-gallery="">
                  <img src="{{url}}/media/{{$root.selectedStudent.profile_image}}" class="img-circle profile-image-circle" />
               </a>
            </div>
            <div class="media-body text-white">
               <div class="col-sm-6">
                  <div ripple="" class="panel panel-default">
                     <div ng-class="'bg-' + app.theme.name" class="panel-body bg-primary">
                     <h2 class="mv-lg media-heading">{{$root.selectedStudent.first_name}} {{$root.selectedStudent.last_name}}</h2>
                     </div>
                  </div>
                  <div ripple="" class="panel panel-default" ng-if="$root.selectedStudent.inmate_id">
                     <div ng-class="'bg-' + app.theme.name" class="panel-body bg-primary">
                        <div class="text-left text-md">ID# {{$root.selectedStudent.inmate_id}}</div>
                     </div>
                  </div>
               </div>
               <div class="col-sm-6">
                  <div ripple="" class="panel panel-default">
                     <div ng-class="'bg-' + app.theme.name" class="panel-body bg-primary">
                        <div class="text-left text-md" >Student</div>
                     </div>
                  </div>
               </div>
               <div class="col-sm-6">
                  <div ripple="" class="panel panel-default">
                     <div ng-class="'bg-' + app.theme.name" class="panel-body bg-primary">
                        <div class="text-left text-md">{{$root.selectedStudent.course}}</div>
                     </div>
                     <span class="ripple"></span>
                  </div>
               </div>
            </div>
         </div>
      </div>

   </div>

   <div ng-if="(isAdmin() || isSuperAdmin()) && $root.selectedStudent" class="container container-lg">
      <div class="row">
         <div class="col-lg-12">
            <div class="panel">
               <div class="panel-body"> 

                  <tabset>
                     <tab heading="Tests">
                        <div class="panel panel-default">
                              <div class="panel-heading">
                                 <div class="panel-title">Test Scores</div>
                              </div>
                              <div class="panel-body">
                                 <div class="row">
                                    <div class="col-lg-12" ng-controller="FlotChartController as flot">
                                       <flot src="'http://127.0.0.1:3000/server/chart/line.json'" options="flot.chartLineFlotChart" series="{lines: flot.lineSeriesLines, points: flot.lineSeriesPoints}"></flot>
                                    </div>
                                 </div>
                              </div>
                           </div>
                     </tab>
                     
                     <tab heading="Notes">
                        <div class="noteviewer row" ng-controller="StudentNotesController as SNC">
                          <div class="col-xs-12">
                            <div class="note-list">
                              <div class="note-item panel" style="padding:5px;" ng-repeat="note in SNC.notes" ng-click="SNC.selectedNote = note">
                                <span class="label label-default">{{ note.date | date : medium }}</span>
                                <span>{{note.author.first_name}}</span>
                                <br>
                                <b>{{ note.body }}</b>
                              </div>
                            </div>
                          </div>
                        </div>
                     </tab>
                     <tab heading="Attendance">
                        <div ng-controller="CalendarController as calendar" class="calendar-app">
                        <div class="panel panel-default">
                           <div class="panel-body">
                              <div ng-model="calendar.eventSources" calendar="calendar.myCalendar" ui-calendar="calendar.uiConfig.calendar" class="calendar"></div>
                           </div>
                           <div class="panel-footer">
                              <div class="clearfix">
                                 <div class="pull-right">
                                    <button ng-click="calendar.changeLang()" class="btn btn-default btn-sm">{{calendar.changeTo}}</button>
                                 </div>
                                 <div class="pull-left">
                                    <div class="btn-switch mb btn-switch-info">
                                       <input type="checkbox" id="input-btn-switch-info" ng-click="calendar.toggleEventSource(0)" checked="calendar.isVisible(0)" />
                                       <label for="input-btn-switch-info" class="btn btn-info">
                                          <em class="fa fa-check"></em>
                                          <strong>Personal Calendar</strong>
                                       </label>
                                    </div>
                                    <div class="btn-switch mb btn-switch-purple">
                                       <input type="checkbox" id="input-btn-switch-purple" ng-click="calendar.toggleEventSource(2)" checked="calendar.isVisible(2)" />
                                       <label for="input-btn-switch-purple" class="btn btn-purple">
                                          <em class="fa fa-check"></em>
                                          <strong>External Events (Json)</strong>
                                       </label>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <p class="text-muted">
                           <small>*Click on the calendar to add events</small>
                        </p>
                     </div>
                     </tab>
                  </tabset>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
